# 搜索功能测试指南

## 功能说明

搜索功能已经实现，可以搜索所有 24,071 本书籍数据。

## 测试步骤

### 1. 访问 GitHub Pages
访问你的 GitHub Pages 地址（通常是）：
```
https://你的用户名.github.io/ebook-treasure-chest
```

### 2. 打开浏览器开发者工具
- 按 `F12` 或右键选择"检查"
- 切换到 "Console"（控制台）标签

### 3. 检查数据加载
在控制台中应该看到：
```
🔄 开始加载书籍数据...
📥 尝试加载 all-books.json...
✅ 已加载 24071 本书籍（来自 all-books.json）
```

### 4. 测试搜索功能
- 在搜索框中输入关键词，例如："Python"
- 应该能看到搜索结果
- 控制台会显示：`🔍 搜索 "python" 找到 X 条结果`

### 5. 测试多关键词搜索
- 输入多个关键词，例如："Python 编程"
- 应该只显示同时包含这两个关键词的结果

## 常见问题排查

### 问题1：控制台显示 "all-books.json 加载失败"
**原因**：文件可能还没有部署到 GitHub Pages

**解决方案**：
1. 等待几分钟让 GitHub Pages 更新
2. 检查 GitHub Actions 是否成功运行
3. 确认 `docs/all-books.json` 文件存在于仓库中

### 问题2：搜索没有结果
**检查**：
1. 打开控制台查看是否有错误信息
2. 确认数据已加载（看到 "✅ 已加载 X 本书籍"）
3. 尝试搜索常见关键词，如"文学"、"历史"

### 问题3：页面显示 "正在加载书籍数据"
**原因**：数据文件太大（6.8 MB），加载需要时间

**解决方案**：
1. 等待几秒钟让数据加载完成
2. 检查网络连接
3. 刷新页面重试

## 数据文件说明

- **all-books.json** (6.8 MB): 包含所有 24,071 本书的完整数据
- **books.json** (950 B): metadata 数据（备用）

搜索功能会优先加载 `all-books.json`，如果失败则降级到 `books.json`。

## 性能说明

- 首次加载：6.8 MB 文件需要几秒钟
- 搜索速度：加载后搜索非常快（内存搜索）
- 结果限制：最多显示 100 条结果

## 如果仍然无法使用

1. **检查 GitHub Actions**：
   - 访问仓库的 "Actions" 标签
   - 确认最新的工作流运行成功

2. **检查文件是否存在**：
   - 访问：`https://你的用户名.github.io/ebook-treasure-chest/all-books.json`
   - 应该能看到 JSON 数据

3. **清除浏览器缓存**：
   - 按 `Ctrl+Shift+R` (Windows) 或 `Cmd+Shift+R` (Mac) 强制刷新

4. **检查控制台错误**：
   - 打开开发者工具查看是否有 JavaScript 错误
